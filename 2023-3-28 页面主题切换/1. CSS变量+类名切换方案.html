<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    * {
      margin: 0;
      padding: 0;
    }

    :root {
      --theme-color: #333;
      --theme-background: #eee;
    }

    .dark {
      --theme-color: #eee;
      --theme-background: #333;
    }

    body {
      background-color: var(--theme-background);
    }

    p {
      color: var(--theme-color);
    }
  </style>
</head>

<body>
  <button onclick="toggle()">切换</button>
  <p>
    Lorem ipsum dolor, sit amet consectetur adipisicing elit. Distinctio saepe neque maiores dignissimos cumque
    similique aliquam recusandae illum sunt repudiandae, culpa deleniti consequuntur nihil quisquam expedita fugit
    consequatur nisi doloremque.
    Eum sit reiciendis obcaecati nemo, id sunt labore ipsa libero aliquam vero quis atque pariatur voluptatem est
    aspernatur exercitationem. Consequatur eaque assumenda saepe quod molestias provident non hic porro quis.
  </p>
  <script>
    // 读取并设置主题
    window.addEventListener('DOMContentLoaded', function(event) {
      const theme = localStorage.getItem('theme')
      if(theme === 'dark') {
        document.body.classList.add('dark')
      }
    })

    function toggle() {
      document.body.classList.toggle('dark')
      // 保证刷新后也能保持主题状态
      const theme = localStorage.getItem('theme')
      if(theme === 'dark') {
        localStorage.removeItem('theme')
      } else {
        localStorage.setItem('theme', 'dark')
      }
    }

  </script>
</body>

</html>